
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/
	jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/
	3.4.1/jquery-migrate.min.js"></script>
    <title>뷰포트의 끝에 수직 스크롤바의 도달여부를 체크하라 </title>

    <style>
        body {
            height: 3000px;
            background-image: linear-gradient(0deg, aqua, orange, yellow, green, blue,brown, purple);
        }
    </style>
    <script>
        $(function () {
            console.clear();

            
            //수직 스크롤바가 현재 뷰포트 끝에 도달 여부를 체크해서
            //도달했으면 콘솔에 "뷰포트의 끝에 수직 스크롤바가 도달했습니다"라고 출력코드를 작성

            const px = 5; 
            const interval = 50;
            const maxHeight = 3000;

            console.clear();
            //1px 부터 3000px 가지 0.05초 간 이동
            
            const id = setInterval(scrollTop, interval,px);

            //onscroll 이벤트 설정
            window.addEventListener('scroll', function(e){
                console.log(`>> window.innerHeight(${window.innerHeight}),
                window.scrollY(${window.scrollY}), document.body.scrollHeight(${document.body.scrollHeight})`);

                //끝에 도달했는지 여부 확인
                console.log(px);

                let sct = $(window).scrollTop();

                if(sct == $(document).height() - $(window).height()){
                    console.log('도달했다.');
                } 

            }); //onscroll

            // clearInterval(id); //setInterval 함수의 종료
            function scrollTop(pixels){
                window.scrollBy(0,pixels);
            } //scrollTop
        });
    </script>

</head>

<body>
</body>
</html>