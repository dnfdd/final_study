<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>뷰포트의 끝에 수직 스크롤바의 도달여부를 체크하라</title>
    <style>
        body {
            height: 3000px;
            background-image: linear-gradient(0deg, aqua, orange, yellow, green, blue, brown, purple);
        }
    </style>
</head>
<body>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.4.1/jquery-migrate.min.js"></script>
<script>
    const px = 1;
    const interval = 5;
    let documentHeight = $(document).height();
    let windowHeight = 0;
    let windowScrollTop = 0;
    console.log('body 전체 높이 = ' + documentHeight);
    const id = setInterval(scrollTop, interval, px);

    function setHeightVariable() {
        windowScrollTop = $(window).scrollTop();
        windowHeight = $(window).height();
        console.log('현재 창 높이 = ' + windowHeight + ', 스크롤 높이 = ' + windowScrollTop)
    }

    //  clearInterval(id);
    function scrollTop(pixels) {
        window.scrollBy(0, pixels);
        setHeightVariable();
        if (windowScrollTop + windowHeight === documentHeight) {
            alert('스크롤이 끝에 도달하였습니다.');
            clearInterval(id);
        }
    }

</script>
</html>